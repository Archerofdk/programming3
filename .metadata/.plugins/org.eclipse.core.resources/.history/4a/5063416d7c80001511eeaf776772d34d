import java.io.BufferedWriter;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import javax.swing.JApplet;

public class AppletGetData extends JApplet implements Runnable
{
	
	Thread writeToFile;
	boolean running = true;
	
	public void init ()
	{
		GetData getData = new GetData();
		writeToFile = new Thread(this);
		writeToFile.start();
		
	}
	public void destroy ()
	{
		running = false;
		writeToFile = null;
	}
	
	public void run()
	{
		File file = new File("test1.txt");
		BufferedWriter printOut = null;
		try {
			printOut = new BufferedWriter(new FileWriter(file));
		} catch (IOException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
		
		while(running)
		{
			if (!file.exists())
			{
				try {
					file.createNewFile();
				} catch (IOException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}
			if (file.exists())
			{
				
				try {
					
					printOut.write("x = " + GetData.gX+ " y = "+ GetData.gY);
					printOut.newLine();
					printOut.flush();
				} catch (IOException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
				
			}
		}
	}
	
	/*public void paint(Graphics g)
	{
		String gXString = String.valueOf(GetData.gX);
		String gYString = String.valueOf(GetData.gY);
		super.paint(g);
		g.drawString("x is: "+ gXString +"   and y is:  "+ gYString, 20, 20);
		repaint();
	}*/
}
